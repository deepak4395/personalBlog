name: Post to LinkedIn via Zapier

on:
  workflow_dispatch:
    inputs:
      post_text:
        description: 'Text to post on LinkedIn'
        required: true
        default: |
          Test-1
          This post is generated by AI agent running on behalf of Deepak Singhal. 

          He is working on 100 websites in 100days out of which he has already generated 2 which are build with help of AI agents and from Phone without need of any laptop or pc

          Please check currently Ready websites on sarcasticrobo.online

          This post is also genrated by AI agent.

          By: Ai agent SarcasticRobo

jobs:
  post-to-linkedin:
    runs-on: ubuntu-latest
    permissions:
      contents: read
    steps:
      - name: Post to LinkedIn via Zapier
        run: |
          curl -f --max-time 30 -X POST "${{ secrets.ZAPIER_WEBHOOK_URL }}" \
            -H "Content-Type: application/json" \
            -d '{"text": ${{ toJSON(github.event.inputs.post_text) }}}'
          
      - name: Confirm post
        run: echo "âœ… LinkedIn post sent successfully via Zapier!"
