import{j as e}from"./jsx-runtime.TBa3i5EZ.js";import{r as g}from"./index.CVf8TyFT.js";function b({posts:t,base:c}){const[l,i]=g.useState("all"),[s,n]=g.useState(""),[x,o]=g.useState(t),m=Array.from(new Set(t.flatMap(a=>a.data.tags))).sort();return g.useEffect(()=>{let a=t;l!=="all"&&(a=a.filter(r=>r.data.tags.some(d=>d.toLowerCase()===l.toLowerCase()))),s&&(a=a.filter(r=>r.data.tags.some(d=>d.toLowerCase().includes(s.toLowerCase())))),o(a)},[l,s,t]),e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tag-search",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search Tags"}),e.jsx("input",{id:"tag-search",type:"text",placeholder:"Type to search tags...",value:s,onChange:a=>n(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tag-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Tag"}),e.jsxs("select",{id:"tag-filter",value:l,onChange:a=>i(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsxs("option",{value:"all",children:["All Tags (",t.length," posts)"]}),m.map(a=>{const r=t.filter(d=>d.data.tags.some(y=>y.toLowerCase()===a.toLowerCase())).length;return e.jsxs("option",{value:a,children:[a," (",r,")"]},a)})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",x.length," of ",t.length," posts"]}),(l!=="all"||s)&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-400",children:"•"}),l!=="all"&&e.jsxs("button",{onClick:()=>i("all"),className:"text-xs px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded-full hover:bg-primary-200 dark:hover:bg-primary-800 transition",children:["Tag: ",l," ✕"]}),s&&e.jsxs("button",{onClick:()=>n(""),className:"text-xs px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded-full hover:bg-primary-200 dark:hover:bg-primary-800 transition",children:['Search: "',s,'" ✕']})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:x.length>0?x.map(a=>e.jsxs("article",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition",children:[e.jsx("a",{href:`${c}/${a.data.category}/${a.slug}`,children:e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2 hover:text-primary-600 dark:hover:text-primary-400 transition",children:a.data.title})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("span",{className:`text-xs px-2 py-1 rounded ${a.data.category==="news"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}`,children:a.data.category}),a.data.difficulty&&e.jsx("span",{className:`ml-2 text-xs px-2 py-1 rounded ${a.data.difficulty==="beginner"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":a.data.difficulty==="intermediate"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:a.data.difficulty})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-3",children:a.data.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.data.tags.slice(0,3).map(r=>e.jsx("button",{onClick:d=>{d.preventDefault(),i(r),n("")},className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-primary-100 dark:hover:bg-primary-900 hover:text-primary-800 dark:hover:text-primary-200 transition",children:r},r)),a.data.tags.length>3&&e.jsxs("span",{className:"text-xs px-2 py-1 text-gray-500",children:["+",a.data.tags.length-3]})]}),e.jsx("time",{className:"text-sm text-gray-500 dark:text-gray-500",children:new Date(a.data.pubDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]},a.slug)):e.jsxs("div",{className:"col-span-3 text-center py-12",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"No posts found matching your filters."}),e.jsx("button",{onClick:()=>{i("all"),n("")},className:"mt-4 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:"Clear Filters"})]})})]})}export{b as default};
