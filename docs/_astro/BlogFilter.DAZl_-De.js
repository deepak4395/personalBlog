import{j as a}from"./jsx-runtime.TBa3i5EZ.js";import{r as c}from"./index.CVf8TyFT.js";function u({posts:r,base:x}){const[t,n]=c.useState("all"),[l,g]=c.useState(""),[o,m]=c.useState(r),h=Array.from(new Set(r.flatMap(e=>e.data.tags))).sort();return c.useEffect(()=>{let e=r;t!=="all"&&(e=e.filter(d=>d.data.tags.some(s=>s.toLowerCase()===t.toLowerCase()))),l&&(e=e.filter(d=>d.data.tags.some(s=>s.toLowerCase().includes(l.toLowerCase())))),m(e)},[t,l,r]),a.jsxs("div",{className:"mb-12",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tag-search",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search Tags"}),a.jsx("input",{id:"tag-search",type:"text",placeholder:"Type to search tags...",value:l,onChange:e=>g(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tag-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Tag"}),a.jsxs("select",{id:"tag-filter",value:t,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[a.jsxs("option",{value:"all",children:["All Tags (",r.length," posts)"]}),h.map(e=>{const d=r.filter(s=>s.data.tags.some(i=>i.toLowerCase()===e.toLowerCase())).length;return a.jsxs("option",{value:e,children:[e," (",d,")"]},e)})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",o.length," of ",r.length," posts"]}),(t!=="all"||l)&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-400",children:"•"}),t!=="all"&&a.jsxs("button",{onClick:()=>n("all"),className:"text-xs px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded-full hover:bg-primary-200 dark:hover:bg-primary-800 transition",children:["Tag: ",t," ✕"]}),l&&a.jsxs("button",{onClick:()=>g(""),className:"text-xs px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded-full hover:bg-primary-200 dark:hover:bg-primary-800 transition",children:['Search: "',l,'" ✕']})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.length>0?o.map(e=>{const s=`${x==="/"?"":x}/${e.data.category}/${e.slug}`;return a.jsxs("article",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition",children:[a.jsx("a",{href:s,className:"block",children:a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2 hover:text-primary-600 dark:hover:text-primary-400 transition",children:e.data.title})}),a.jsxs("div",{className:"mb-3",children:[a.jsx("span",{className:`text-xs px-2 py-1 rounded ${e.data.category==="news"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":e.data.category==="tutorials"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"}`,children:e.data.category}),e.data.difficulty&&a.jsx("span",{className:`ml-2 text-xs px-2 py-1 rounded ${e.data.difficulty==="beginner"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":e.data.difficulty==="intermediate"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:e.data.difficulty})]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-3",children:e.data.description}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.data.tags.slice(0,3).map(i=>a.jsx("button",{onClick:y=>{y.preventDefault(),n(i),g("")},className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-primary-100 dark:hover:bg-primary-900 hover:text-primary-800 dark:hover:text-primary-200 transition",children:i},i)),e.data.tags.length>3&&a.jsxs("span",{className:"text-xs px-2 py-1 text-gray-500",children:["+",e.data.tags.length-3]})]}),a.jsx("time",{className:"text-sm text-gray-500 dark:text-gray-500",children:new Date(e.data.pubDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]},e.slug)}):a.jsxs("div",{className:"col-span-3 text-center py-12",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"No posts found matching your filters."}),a.jsx("button",{onClick:()=>{n("all"),g("")},className:"mt-4 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:"Clear Filters"})]})})]})}export{u as default};
