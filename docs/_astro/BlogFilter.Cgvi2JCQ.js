import{j as r}from"./jsx-runtime.TBa3i5EZ.js";import{r as g}from"./index.CVf8TyFT.js";function u({posts:t,base:o}){const[l,i]=g.useState("all"),[s,n]=g.useState(""),[c,m]=g.useState(t),y=Array.from(new Set(t.flatMap(e=>e.data.tags))).sort();return g.useEffect(()=>{let e=t;l!=="all"&&(e=e.filter(d=>d.data.tags.some(a=>a.toLowerCase()===l.toLowerCase()))),s&&(e=e.filter(d=>d.data.tags.some(a=>a.toLowerCase().includes(s.toLowerCase())))),m(e)},[l,s,t]),r.jsxs("div",{className:"mb-12",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"tag-search",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search Tags"}),r.jsx("input",{id:"tag-search",type:"text",placeholder:"Type to search tags...",value:s,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"tag-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Tag"}),r.jsxs("select",{id:"tag-filter",value:l,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[r.jsxs("option",{value:"all",children:["All Tags (",t.length," posts)"]}),y.map(e=>{const d=t.filter(a=>a.data.tags.some(x=>x.toLowerCase()===e.toLowerCase())).length;return r.jsxs("option",{value:e,children:[e," (",d,")"]},e)})]})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",c.length," of ",t.length," posts"]}),(l!=="all"||s)&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:"•"}),l!=="all"&&r.jsxs("button",{onClick:()=>i("all"),className:"text-xs px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded-full hover:bg-primary-200 dark:hover:bg-primary-800 transition",children:["Tag: ",l," ✕"]}),s&&r.jsxs("button",{onClick:()=>n(""),className:"text-xs px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded-full hover:bg-primary-200 dark:hover:bg-primary-800 transition",children:['Search: "',s,'" ✕']})]})]})]}),r.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:c.length>0?c.map(e=>{const d=o==="/"?`/${e.data.category}/${e.slug}`:`${o}/${e.data.category}/${e.slug}`;return r.jsxs("article",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition",children:[r.jsx("a",{href:d,children:r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2 hover:text-primary-600 dark:hover:text-primary-400 transition",children:e.data.title})}),r.jsxs("div",{className:"mb-3",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded ${e.data.category==="news"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}`,children:e.data.category}),e.data.difficulty&&r.jsx("span",{className:`ml-2 text-xs px-2 py-1 rounded ${e.data.difficulty==="beginner"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":e.data.difficulty==="intermediate"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:e.data.difficulty})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-3",children:e.data.description}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.data.tags.slice(0,3).map(a=>r.jsx("button",{onClick:x=>{x.preventDefault(),i(a),n("")},className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-primary-100 dark:hover:bg-primary-900 hover:text-primary-800 dark:hover:text-primary-200 transition",children:a},a)),e.data.tags.length>3&&r.jsxs("span",{className:"text-xs px-2 py-1 text-gray-500",children:["+",e.data.tags.length-3]})]}),r.jsx("time",{className:"text-sm text-gray-500 dark:text-gray-500",children:new Date(e.data.pubDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]},e.slug)}):r.jsxs("div",{className:"col-span-3 text-center py-12",children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"No posts found matching your filters."}),r.jsx("button",{onClick:()=>{i("all"),n("")},className:"mt-4 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:"Clear Filters"})]})})]})}export{u as default};
